# Программа распила для Ролтек

- Python 3.10 +

# Настройка

В [config.txt] поменять

- out_path - вывод файлов расчета производится в этот путь
- log_file - сюда в файл логируются ошибки обработки расета
- config - файл конфига ( в данном случае путь до этого файла)
- client_file - json-валидный файл для [Client.bat] (если нужна проверка работы программы интрерактивно)
- PYTHONPATH - добавить путь папки проекта

```sh
out_path=C:\Users\user\Documents\output\server
host=localhost
port=9999
log_file=C:\Users\user\Documents\output\server\raspil_perror.txt
config=C:\Users\user\Documents\raspil_rt\config.txt
client_file=C:\Users\user\Documents\raspil_rt\tests\resources\1960_testing.txt
PYTHONPATH=..\\
```

# Запрос:

```javascript
{
 "threshold":10, // порог остатка после которого алгоритм не ищет комбинацию получше
 "store": [// доски склада
  [
    1966, // ИД доски
    6000, // длина
    10000,  // кол-во
    1000,// максимальный остаток обрези
    240,// минимальный остаток обрези
    5 // склад ИД
  ]
 ],
"orders":[// доски склада
  [
    26978,  // ИД доски
    448, // длина
    2 // кол-во
  ]
],
"width_saw": 3,  // толщина пила в мм

"store_order": [
    {
         "1": true, // ид склада: соблюдать ли условие ликвидности
          "2": true, // ид склада: соблюдать ли условие ликвидности
    },
   { // первый круг расчета
        "3": true, // ид склада: соблюдать ли условие ликвидности
         "4": true, // ид склада: соблюдать ли условие ликвидности
    },
    { //третий круг
        "5": true, // ид склада: соблюдать ли условие ликвидности
    },

    ]
}
```

# Ответ:

```javascript
[
  {
    store_board: [
      42807, //ид
      6000, // длина
      5, //склад_ид
      5, // кол-во
      240, // остаток_минимальный
      2400, //остаток_максимальный
    ],
    amount: 5, //количество распилов применимых к этой доске со склада
    boards: [
      [
        42807, //ид
        895, // длина
        0, //склад_ид
        1, // кол-во
        0, // остаток_минимальный
        0, //остаток_максимальный
      ],
      [42807, 951, 0, 1, 0, 0],
      [42807, 987, 0, 1, 0, 0],
      [42807, 1501, 0, 1, 0, 0],
      [42807, 1652, 0, 1, 0, 0],
    ],
    remain: 0, // величина остатка после распила
  },
];
```


